## 제 4장 테스트 기법

## 용어
- 경계값 분석(boundary value analysis)
	- 입력값의 경계 부분을 중점적으로 검사하여 오류를 찾는 방법

- 결정 커버리지(decision coverage)
	- 결정 구조 : 프로그래밍에서 프로그램 흐름을 제어하는 분기문과 루프 등을 포함하는 구조
	- 결정 커버리지 : 프로그램의 모든 결정 구조를 테스트하는 것
	- 목표 : 프로그램 내의 분기문(if, switch)과 루프문(for, while 등)을 포함한 모든 결정 구조를 실행하는 테스트 케이스를 생성

- 결정 테이블 테스팅(desicion table testing)
	- 복잡한 조건들과 그에 따른 동작을 테스트 하기 위해 사용되는 방법
	- 다양한 입력 조건과 해당 조건에 따른 출력 동작을 행과 열로 나타낸 표 형식의 구조를 가진다

- 오류 추정(error guessing)
	- 소프트웨어 개발 및 테스트 과정에서 예상되는 오류의 양과 심각성을 평가하는 것

- 동등 분할(equivalence partitioning)
	- 입력 값의 가능한 범위를 몇 개의 동등한 클래스 또는 그룹으로 나누어 테스트 케이스를 생성하는 방법
	- 각 클래스의 대표값을 사용하여 테스트 케이스를 작성함으로써 다양한 입력값을 효과적으로 다룰 수 있게 도와준다.
	```
	예 : 소프트웨어 입력값 정수 1 ~ 100 => 3가지 클래스로 분할 가능
	1. 1 ~ 100(유효한 범위 내)
	2. 0미만 101이상(범위를 벗어난 정수)
	3. 정수가 아닌 형식
	```

- 구문 커버리지(statement coverage)
	- 프로그램의 소스 코드에서 각 구문(문장)이 실행되거나 방문되는 정도
	- 구문 커버리지는 테스트 케이스가 프로그램의 모든 구문을 실행하도록 하는것을 목표
	```
	예 : 조건문(if,switch 등), 반복문(for, while 등), 함수호출, 변수 선언 등 => 프로그램 구문
	구문 커버리지는 이러한 구문들이 얼마나 실행되었는지를 백분율로 나타낸거
	```

- 유스케이스(use case testing)
	- 유스케이스(usecase) : 개발에서 사용자 또는 시스템의 행위를 시나리오로 설명하는 기술
	- 유스케이스 테스팅 : 유스케이스라는 시나리오를 활용하여 소프트웨어의 기능을 검증하는 과정
	- 사용자의 요구사항을 확인하고, 소프트웨어가 예상대로 동작하는지 확인하는데 중요

## 4.1 테스트 기법의 종류
> 테스트 기법의 목적 : 테스트 컨디션, 테스트 케이스, 테스트 데이터 식별을 지원하는 것
 
- 테스트 기법 선택을 위한 요소
	- 컴포넌트나 시스템의 복잡도
	- 규제 기준
	- 고객 또는 계약 요구사항
	- 리스크 수준과 유형
	- 사용 가능한 문서
	- 테스터의 지식과 역량
	- 사용 가능한 도구
	- 시간과 예산 
	- 소프트웨어 개발 수명주기 모델
	- 컴포넌트나 시스템에서 예상되는 결함

- 테스트 케이스를 작성할 때 테스터는 일반적으로 테스트 노력 대비 가장 좋은 결과를 얻기 위해 다양한 테스트 기법을 조합해서 사용

### 4.1.1 테스트 기법의 종류와 특성
> 블랙박스, 화이트박스, 경험기반

- 1) 블랙박스 테스트 기법
	- 행위 기법 또는 행위 기반 기법이라고도 함
	- 테스트 베이시스에 대한 분석을 기반
	- 기능 테스팅과 비기능 테스팅 모두에 적용
	- 내부 구조를 고려하지 않고, 입력과 출력에 집중

- 2) 화이트박스 테스트 기법
	- 구조 기법 또는 구조 기반 기법이라고도 함
	- 아키텍처, 세부 설계, 내부 구조, 테스트 대상의 코드에 대한 분석을 기반
	- 테스트 대상의 내부 구조와 처리에 집중

- 3) 경험 기반 테스트 기법
	- 개발자, 테스터, 사용자의 경험을 활용하여 테스트를 설계, 구현, 실행
	- 블랙박스 및 화이트박스 테스트 기법과 결합해서 사용하는 경우가 많다.

```
**블랙박스 테스트 기법의 특징**
- 테스트 컨디션, 케이스, 데이터 : 소프트웨어 요구사항, 명세서, 유스케이스, 사용자 스토리와 같은 테스트 베이시스에서 도출
- 테스트 케이스는 요구사항과 요구사항 구현 결과물 간 차이와 편차를 식별하는 데 사용
- 커버리지는 테스트 베이시스에서 테스트된 항목과 테스트 베이시스에 적용한 기법을 기반으로 측정
```

```
**화이트박스 테스트 기법의 특징**
- 테스트 컨디션, 케이스, 데이터 : 코드, 소프트웨어 아키텍처, 상세 설계 또는 소프트웨어 구조와 관련된 기타 정보를 포함한 테스트 베이시스에서 도출
- 커버리지는 선택한 구조(예 : 코드나 인터페이스) 내에서 테스트한 항목과 테스트 베이시스에 적용된 기법을 기준으로 측정
```

```
**경험기반 테스트 기법의 특징**
- 테스트 컨디션, 케이스, 데이터 : 테스터, 개발자, 사용자, 기타 이해관계자의 지식과 경험과 같은 테스트 베이시스에서 도출
```

## 4.2 블랙박스 테스트 기법

### 4.2.1 동등 분할
> 특정 파티션의 모든 변수는 동일한 방식으로 처리된다는 가정으로 파티션에 데이터를 분할한다.
- 유효값(valid value)
	- 컴포넌트나 시스템에 입력되는 값. 
	- 유효한 값을 포함하는 동등한 파티션을 "유효 동등 분할"이라고 한다.

- 비유효값(invalid value)
	- 컴포넌트나 시스템이 거부하는 값.
	- 유효하지 않은 값을 포함하는 동등한 파티션을 "비유효 동등 분할"이라고 한다.

- 분할
	- 입력값, 출력값, 내부값, 시간관련값, 인터페이스 매개변수를 포함하여 테스트 대상과 관련된 모든 데이터 요소에 대해 식별 가능하다.

- 필요한 경우 모든 파티션은 하위 파티션으로 나눌 수 있다.
- 모든 값은 동등 분할에 포함되어야하며, 하나의 값은 하나의 동등 분할에만 속해야한다.
- 비유효 동등 분할에서 테스트 케이스를 만들 경우 
	- 장애가 마스크 즉, 가려지는 것을 방지하기 위해 개별적 테스트를 진행
	- 다른 비유효 동등 분할과 조합하지 않아야 한다.
	- 동시에 장애가 발생할 때 겉으로 드러나는 하나의 장애 때문에 나머지가 인식되지 않아 장애가 가려지는 경우가 발생
- 동등 분할 기법으로 100% 커버리지를 달성하기 위해서는 식별한 모든 분할(비유효 분할 포함)의 각 분할에서 최소 한 개의 값을 사용해 테스트 케이스를 진행해야 한다.

### 4.2.2 경계값 분석
> 숫자 또는 연속된 데이터로 구성된 경우에만 적용
```
<예시>
- 특정 입력 필드가 한 자리 정수값만 입력으로 받아들이고 정수가 아닌 값의 입력은 막기 위해 입력 방법을 키패드(keypad)로 제한한다고 가정
- 유효 범위 : 1 이상 5 이하
- 비유효(너무 낮음), 유효, 비유효(너무 높음)
- 유효 동등 분할 경계값 : 1, 5
- 비유효 동등 분할 경계값 : 0(너무 낮음), 6(너무 높음)
- 낮은 쪽 경계에 해당하는 값 : 0, 1, 2 
- 높은 쪽 경계에 해당하는 값 : 4, 5, 6
```
- 일반적으로 숫자의 범위(날짜, 시간 포함)와 연관된 요구사항을 테스트하는 데 적용

### 4.2.3 결정 테이블 테스팅
> 시스템이 구현해야 하는 복잡한 비즈니스 규칙을 기록하기에 좋은 방법

- 테스터는 시스템의 조건(주로 입력)과 예상 동작(주로 출력)을 식별한다.
- 이것들이 테이블의 행(rows)를 형성하며 일반적으로 조건의 위쪽에, 기대 결과는 아래쪽에 둔다
- 각 열(column)은 하나의 결정 규칙으로 특정 조건의 고유한 조합과 연관된 기대 결과로 정의

- 결정 테이블의 일반적인 표기법
```
- 조건
- Y : 참
- N : 거짓
- ㅡ : 조건의 값이 중요하지 않다(= N/A)

- 기대결과
- X : 행동이 일어난다는 것을 의미(= Y, T, 1)
- 공백(blank) : 행동이 일어나지 않다는 것을 의미(= ㅡ, N, F, 0)
```
- 결정 테이블 테스팅 장점
	- 중요한 모든 조건 조합을 식별하는 데 도움이 된다.
	- 요구사항의 누락된 부분을 찾는 데 도움이 된다.
	- 조건 조합에 영향을 받는 모든 상황에 적용 가능하며, 모든 테스트 레벨에 적용

### 4.2.4 상태 전이 테스팅(State Transition Testing)
> 컴포넌트나 시스템은 현재 조건이나 기존 이력(예 : 시스템이 초기화되고 난 후 발생한 이벤트)에 따라 이벤트에 대해 다르게 반응할 수 있다
- 하나의 이벤트에 의해 동일한 상태로부터 두 개 이상의 다른 전이가 발생할 수 있다
- 상태 변화로 소프트웨어가 특정 행동을 할 수도 있다.(예 : 연산 결과 또는 오류 메세지 출력)
- 상태 전이 테스팅
	- 메뉴 기반 애플리케이션에 사용하며, 임베디드 소프트웨어 업계에서 널리 사용
	- 화면 탐색을 테스팅하는데 적합
	- 상태의 개념은 추상적이며 이는 코드 몇 줄 또는 전체 비즈니스 프로세스를 나타낼 수도 있다.

### 4.2.5 유스케이스 테스팅(Use Case Testing)
> 유스케이스에서 테스트를 도출할 수 있으며, 이것은 소프트웨어 항목 간의 상호작용을 설계하는 특정 방법
> 유스케이스는 소프트웨어 기능에 대한 요구사항을 통합
> 유스케이스 : 액터(actor, 사용자)와 대상(컴포넌트나 시스템)간의 관계이다.
- 각 유스케이스는 대상(suject)이 하나 이상의 액터와 협력하여 수행할 수 있는 동작들을 명시하고 있다.
- 유스케이스에서는 예외 동작 및 오류 처리(시스템 응답과 프로그래밍, 애플리케이션 및 통신 오류로부터의 복구, 예 : 오류 메시지 발생)을 포함한 기본 동작의 가능 

## 4.3 화이트박스 테스트 기법
```
- 테스트 대상의 내부 구조를 기반으로 한다.
- 단위 테스트 레벨에서 가장 일반적으로 사용된다.
```

### 4.3.1 구문 테스팅과 커버리지
> 구문 테스팅은 코드의 잠재적으로 실행 가능한 구문을 실행한다. 

### 4.3.2 결정 테스팅과 커버리지
> 결정 테스팅은 코드에 존재하는 결정문을 실해하고 결정문의 결과에 따라 실행되는 코드를 테스트한다.
- 이것을 달성하기 위해 테스트 케이스는 결정문에서 시작되는 제어 흐름을 따라 실행된다.
	- 예 : IF문에서 결과가 참인 경우와 거짓인 경우

### 4.3.3 구문 및 결정 테스팅의 가치
> 100% 구문 커버리지를 달성하면 코드에 존재하는 모든 실행 가능한 구문을 최소한 한 번씩은 테스트 했다는 것을 의미 => 모든 결정 로직을 테스트했다는 것을 보장하진 않는다.
- 구문 테스팅은 결정 테스팅보다 커버리지가 낮다
- 다른 테스트에 의해 실행되지 않은 코드의 결함을 찾는데 도움

> 100% 결정 커버리지를 달성하면 명확한 거짓 구문이 명시되지 않은 경우(예 : IF문에 ELSE문이 없는 경우)에도 결과가 참인 경우와 거짓인 경우를 포함한 모든 결정 결과가 실행되었다는것
을 의미
- 다른 테스트가 참과 거짓 결과 모두를 테스트하지 않는 코드 결함을 찾는 데 도움
- 100% 결정 커버리지는 100% 구문 커버리지를 보장, 반대는 성립 안됨

## 4.4 경험 기반 테스트 기법
```
- 테스트 케이스는 테스터의 기술 역량과 직관 그리고 유사한 애플리케이션과 기술에 대한 경험을 기반으로 도출
- 체계적인 다른 기법으로 쉽게 찾아내기 어려운 테스트를 식별하는 데 도움
- 테스터의 접근 방식과 경험에 따라 이 기법으로 달성하는 커버리지와 효과성은 매우 다양하게 나타남 
- 커버리지를 평가하기 어려울 수 있으며 측정도 불가능 할 수도 있음
```

### 4.4.1 오류 추정(Error Guessing)
> 오류 추정은 다음을 포함한 테스터 지식을 기반으로 오류, 결함 및 장애 발생을 예측하는 데 적용하는 기술
> 발생 가능한 오류, 결함, 장애 목록을 작성 -> 원인이되는 결함을 노출하는 테스트를 설계하는 것
- 애플리케이션의 과거 동작
- 발생하기 쉬운 오류의 유형
- 다른 애플리케이션에서 발생한 장애

### 4.4.2 탐색적 테스팅(Exploratory Testing)
> 비공식 테스트를 테스트 실행 중에 동적을 설계, 실행, 기록하고 평가
> 테스트 결과는 컴포넌트나 시스템에 대해 더 많이 학습하고, 더 많은 테스트가 필요한 영역에 대한 테스트를 작성하는 데 활용

- 세션 기반 테스팅
	- 탐색적 테스팅을 정해진 시한동안 수행하며
	- 테스터는 테스트 목적이 포함된 테스트 차터를 활용해 테스팅 방향을 설정
- 명세가 충분하지 않거나 적은 경우 또는 테스팅에 상당한 시간적 압박이 있을 때 가장 유용
- 공식적인 테스팅 기법을 보완하는데 유용

### 4.4.3 체크리스트 기반 테스팅(Checklist-based Testing)
> 체크리스트에 기록된 테스트 컨디션을 커버하기 위해 테스터가 테스트를 설계, 구현, 실행
- 체크리스트는 기능 및 비기능 테스팅을 포함한 다양한 테스트 유형을 지원하기 위해 작성
- 구체적인 테스트 케이스가 없는 경우, 체크리스트 기반 테스팅은 대략적인 지침과 일관성 제공
- 커버리지는 늘어날 수 있지만 재현 가능성은 줄어들 수 있다.


